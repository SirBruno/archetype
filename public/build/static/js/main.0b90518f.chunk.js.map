{"version":3,"sources":["Components/Books.js","App.js","index.js"],"names":["Books","useState","books","setBooks","lastId","length","id","useEffect","ApolloClient","uri","query","gql","then","result","data","console","log","map","key","title","author","description","App","state","res","axios","get","params","document","getElementById","value","setState","innerText","catch","err","className","placeholder","onClick","sendData","Component","ReactDOM","render"],"mappings":"mjBAGe,SAASA,IAAS,IAAD,IAEFC,mBAAS,IAFP,mBAErBC,EAFqB,KAEdC,EAFc,KAGtBC,EAAM,UAAGF,EAAMA,EAAMG,OAAS,UAAxB,aAAG,EAAyBC,GAyBxC,OAvBAC,qBAAU,WAES,IAAIC,IAAa,CAC5BC,IAAK,aAGFC,MAAM,CACTA,MAAOC,YAAF,OAUNC,MAAK,SAAAC,GACJV,EAASU,EAAOC,KAAKZ,OACrBa,QAAQC,IAAIZ,QAEjB,CAACA,IAGA,6BACKF,EAAMe,KAAI,SAAAf,GAAK,OACZ,yBAAKgB,IAAKhB,EAAMI,IACZ,4BAAKJ,EAAMiB,OACX,2BAAIjB,EAAMkB,QACV,2BAAIlB,EAAMmB,kB,ICcfC,E,YA7Cb,aAAe,IAAD,8BACZ,+CACKC,MAAQ,CACXC,IAAK,IAHK,E,wEAOF,IAAD,OACTC,IAAMC,IAAI,4BAA6B,CACrCC,OAAQ,CACNR,MAAOS,SAASC,eAAe,kBAAkBC,MACjDV,OAAQQ,SAASC,eAAe,mBAAmBC,MACnDT,YAAaO,SAASC,eAAe,wBAAwBC,SAE9DlB,MAAK,SAAAY,GACNT,QAAQC,IAAI,OAASQ,GACrB,EAAKO,SAAS,CAAEP,IAAKA,EAAIV,OACzBc,SAASC,eAAe,gBAAgBG,UAAY,EAAKT,MAAMC,OAC9DS,OAAM,SAAAC,GACP,EAAKH,SAAS,CAAEP,IAAKU,IACrBN,SAASC,eAAe,gBAAgBG,UAAY,EAAKT,MAAMC,IAC/DT,QAAQC,IAAIkB,Q,+BAIN,IAAD,OACP,OACE,yBAAKC,UAAU,OACb,6BACE,2BAAO7B,GAAG,iBAAiB8B,YAAY,UACvC,6BACA,2BAAO9B,GAAG,kBAAkB8B,YAAY,WACxC,6BACA,2BAAO9B,GAAG,uBAAuB8B,YAAY,gBAC7C,6BACA,4BAAQC,QAAS,kBAAM,EAAKC,aAA5B,QACA,6BACA,uBAAGhC,GAAG,gBAAN,mCACA,kBAACN,EAAD,Y,GAxCQuC,aCAlBC,IAASC,OAAO,kBAAC,EAAD,MAASb,SAASC,eAAe,W","file":"static/js/main.0b90518f.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ApolloClient, { gql } from 'apollo-boost';\r\n\r\nexport default function Books() {\r\n\r\n    const [books, setBooks] = useState([]);\r\n    const lastId = books[books.length - 1]?.id;\r\n\r\n    useEffect(() => {\r\n\r\n        const client = new ApolloClient({\r\n            uri: '/graphql'\r\n        });\r\n\r\n        client.query({\r\n            query: gql`\r\n                {\r\n                    books {\r\n                        id\r\n                        title\r\n                        author\r\n                        description\r\n                    }\r\n                }\r\n            `\r\n        }).then(result => {\r\n            setBooks(result.data.books);\r\n            console.log(lastId);\r\n        });\r\n    }, [lastId]);\r\n\r\n    return (\r\n        <div>\r\n            {books.map(books =>\r\n                <div key={books.id}>\r\n                    <h3>{books.title}</h3>\r\n                    <p>{books.author}</p>\r\n                    <i>{books.description}</i>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Books from './Components/Books';\r\n\r\nclass App extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      res: ''\r\n    }\r\n  }\r\n\r\n  sendData() {\r\n    axios.get('http://localhost:8000/add', {\r\n      params: {\r\n        title: document.getElementById(\"sendData-title\").value,\r\n        author: document.getElementById(\"sendData-author\").value,\r\n        description: document.getElementById(\"sendData-description\").value\r\n      }\r\n    }).then(res => {\r\n      console.log(\"res:\" + res);\r\n      this.setState({ res: res.data });\r\n      document.getElementById(\"req-response\").innerText = this.state.res;\r\n    }).catch(err => {\r\n      this.setState({ res: err });\r\n      document.getElementById(\"req-response\").innerText = this.state.res;\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div>\r\n          <input id=\"sendData-title\" placeholder=\"Title\" />\r\n          <br />\r\n          <input id=\"sendData-author\" placeholder=\"Author\" />\r\n          <br />\r\n          <input id=\"sendData-description\" placeholder=\"Description\" />\r\n          <br />\r\n          <button onClick={() => this.sendData()}>Send</button>\r\n          <br />\r\n          <p id=\"req-response\">request's response goes here...</p>\r\n          <Books />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}