(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,n){e.exports=n(58)},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),l=n.n(c),o=n(15),u=n(14),i=n(13),s=n(20),m=n.n(s),d=n(27),p=n(26),f=n(25),E=n(21),b=n(72);function h(e){return r.a.createElement("div",null,e.books.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("h3",{style:{display:"inline"}},t.title),r.a.createElement(b.a,{onClick:function(){return e.deleteBook(t.id)},style:{background:"#000",color:"#fff",marginLeft:10}},"X"),r.a.createElement("p",null,t.author),r.a.createElement("i",null,t.description))})))}var v=r.a.createContext(),k=v.Provider;function j(){var e=Object(p.a)(["\n        mutation addBook($title: String, $author: String, $description: String){\n          addBook(title: $title, author: $author, description: $description) {\n            id\n            title\n            author\n            description\n          }\n        }\n    "]);return j=function(){return e},e}function O(){var e=Object(p.a)(["\n        mutation deleteBook($_id: String){\n          deleteBook(_id: $_id) { id }\n        }\n    "]);return O=function(){return e},e}function g(){var e=Object(p.a)(["\n                {\n\t\t\t\t\t\t\t\t\tbooks {\n\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\tauthor\n\t\t\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t\t\t}\n                }\n            "]);return g=function(){return e},e}var y="https://archetypeofficial.herokuapp.com/graphql",B=new E.a({uri:y});function x(){var e=r.a.createRef(),t=r.a.createRef(),n=r.a.createRef(),c=Object(a.useState)([]),l=Object(f.a)(c,2),o=l[0],u=l[1];Object(a.useEffect)((function(){B.query({query:Object(E.b)(g())}).then((function(e){u(e.data.books)}))}),[]);var s=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.mutate({variables:{_id:t},mutation:Object(E.b)(O())});case 2:return n=e.sent,e.next=5,n.data.deleteBook.id;case 5:a=e.sent,u(o.filter((function(e){return e.id!==a})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var a=Object(d.a)(m.a.mark((function a(){var r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.mutate({variables:{title:e.current.value,author:t.current.value,description:n.current.value},mutation:Object(E.b)(j())});case 2:return r=a.sent,a.next=5,r.data.addBook;case 5:c=a.sent,u([].concat(Object(i.a)(o),[c]));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"Home"},r.a.createElement("div",null,r.a.createElement("input",{ref:e,placeholder:"Title"}),r.a.createElement("br",null),r.a.createElement("input",{ref:t,placeholder:"Author"}),r.a.createElement("br",null),r.a.createElement("input",{ref:n,placeholder:"Description"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return p()}},"Send"),r.a.createElement("br",null),r.a.createElement("p",{id:"req-response"},"request's response goes here..."),r.a.createElement(k,{value:y},r.a.createElement(h,{books:o,setBooks:u,deleteBook:s}))))}function $(){var e=Object(u.f)().topicId;return r.a.createElement("h3",null,"Requested topic ID: ",e)}function w(){var e=Object(u.g)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Post ..."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"".concat(e.url,"/single")},"Single post (example)"))),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"".concat(e.path,"/:topicId")},r.a.createElement($,null)),r.a.createElement(u.a,{path:e.path},r.a.createElement("h3",null,"Please select a topic."))))}l.a.render(r.a.createElement((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(o.b,{to:"/"},"Home"),r.a.createElement(o.b,{to:"/post"},"Post")),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/post"},r.a.createElement(w,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(x,null))))))}),null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.2114b656.chunk.js.map