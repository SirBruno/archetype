(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{50:function(e,t,n){e.exports=n(63)},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(22),c=n.n(l),u=n(21),i=n(19),o=n(48),s=n(8),m=n(18),p=n(27),d=n.n(p),f=n(25),E=n(33),h=n(32),b=n(77),v=n(30),k=n(20),g=n.n(k);function j(){var e=Object(f.a)(["\n{\n  books {\n    id\n    title\n    author\n    description\n  }\n}\n"]);return j=function(){return e},e}var O=g()(j());function w(){var e=Object(f.a)(["\n        mutation addBook($title: String, $author: String, $description: String){\n          addBook(title: $title, author: $author, description: $description) {\n            id\n            title\n            author\n            description\n          }\n        }\n    "]);return w=function(){return e},e}function x(){var e=Object(f.a)(["\n        mutation deleteBook($_id: String){\n          deleteBook(_id: $_id) { id }\n        }\n    "]);return x=function(){return e},e}function y(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),l=n[0],c=n[1],u=Object(v.a)(),i=r.a.createRef(),o=r.a.createRef(),s=r.a.createRef(),p=Object(v.b)(O),f=p.loading,k=p.error,j=p.data;if(Object(a.useEffect)((function(){j&&c(j.books)}),[j]),k)throw new k;var y=function(){var e=Object(E.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.mutate({variables:{_id:t},mutation:g()(x())});case 2:return n=e.sent,e.next=5,n.data.deleteBook.id;case 5:a=e.sent,c(l.filter((function(e){return e.id!==a})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.mutate({variables:{title:i.current.value,author:o.current.value,description:s.current.value},mutation:g()(w())});case 2:return t=e.sent,e.next=5,t.data.addBook;case 5:n=e.sent,c([].concat(Object(m.a)(l),[n]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?r.a.createElement("p",null,"Loading..."):l.length>0?r.a.createElement("div",null,r.a.createElement("input",{ref:i,placeholder:"Title"}),r.a.createElement("br",null),r.a.createElement("input",{ref:o,placeholder:"Author"}),r.a.createElement("br",null),r.a.createElement("input",{ref:s,placeholder:"Description"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return $()}},"Send"),r.a.createElement("br",null),r.a.createElement("p",{id:"req-response"},"request's response goes here..."),l.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h3",{style:{display:"inline"}},e.title),r.a.createElement(b.a,{onClick:function(){return y(e.id)},style:{background:"#000",color:"#fff",marginLeft:10}},"X"),r.a.createElement("p",null,e.author),r.a.createElement("i",null,e.description))}))):null}function $(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",null,r.a.createElement(y,null)))}function B(){var e=Object(i.f)().topicId;return r.a.createElement("h3",null,"Requested topic ID: ",e)}function S(){var e=Object(i.g)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Post ..."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(e.url,"/single")},"Single post (example)"))),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"".concat(e.path,"/:topicId")},r.a.createElement(B,null)),r.a.createElement(i.a,{path:e.path},r.a.createElement("h3",null,"Please select a topic."))))}var q=new o.a({uri:"https://archetypeofficial.herokuapp.com/graphql"});c.a.render(r.a.createElement((function(){return r.a.createElement(s.a,{client:q},r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/"},"Home"),r.a.createElement(u.b,{to:"/post"},"Post")),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/post"},r.a.createElement(S,null)),r.a.createElement(i.a,{path:"/"},r.a.createElement($,null)))))))}),null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.5893ed19.chunk.js.map