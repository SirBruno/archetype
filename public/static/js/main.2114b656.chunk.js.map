{"version":3,"sources":["Components/Books.js","Contexts/EnvContext.js","Containers/Home/Home.js","Containers/Single/Single.js","Containers/Post/Post.js","index.js","Containers/App/App.js"],"names":["Books","props","books","map","key","id","style","display","title","Button","onClick","deleteBook","background","color","marginLeft","author","description","EnvContext","React","createContext","EnvProvider","Provider","uri","process","client","ApolloClient","Home","dataTitle","createRef","dataAuthor","dataDescription","useState","setBooks","useEffect","query","gql","then","result","data","_id","a","mutate","variables","mutation","deletedBook","deletedId","filter","book","addBook","current","value","res","className","ref","placeholder","Single","topicId","useParams","Post","match","useRouteMatch","to","url","path","ReactDOM","render","document","getElementById"],"mappings":"sQAGe,SAASA,EAAMC,GAE7B,OACC,6BACEA,EAAMC,MAAMC,KAAI,SAAAD,GAAK,OACrB,yBAAKE,IAAKF,EAAMG,IACf,wBAAIC,MAAO,CAAEC,QAAS,WAAaL,EAAMM,OACzC,kBAACC,EAAA,EAAD,CAAQC,QAAS,kBAAMT,EAAMU,WAAWT,EAAMG,KAAKC,MAAO,CACzDM,WAAY,OACZC,MAAO,OACPC,WAAY,KAHb,KAKA,2BAAIZ,EAAMa,QACV,2BAAIb,EAAMc,kBCdf,IAAMC,EAAaC,IAAMC,gBAEZC,EAAcH,EAAWI,S,wxBCCtC,IAAMC,EAAMC,kDACNC,EAAS,IAAIC,IAAa,CAAEH,QAEnB,SAASI,IACtB,IAAMC,EAAYT,IAAMU,YAClBC,EAAaX,IAAMU,YACnBE,EAAkBZ,IAAMU,YAHD,EAIHG,mBAAS,IAJN,mBAItB7B,EAJsB,KAIf8B,EAJe,KAM7BC,qBAAU,WACRT,EAAOU,MAAM,CACXA,MAAOC,YAAF,OAUJC,MAAK,SAAAC,GAAYL,EAASK,EAAOC,KAAKpC,YACxC,IAEH,IAAMS,EAAU,uCAAG,WAAO4B,GAAP,iBAAAC,EAAA,sEACShB,EAAOiB,OAAO,CACtCC,UAAW,CAAEH,OACbI,SAAUR,YAAF,OAHO,cACXS,EADW,gBASOA,EAAYN,KAAK3B,WAAWN,GATnC,OASXwC,EATW,OAUjBb,EAAS9B,EAAM4C,QAAO,SAAAC,GAAI,OAAIA,EAAK1C,KAAOwC,MAVzB,2CAAH,sDAaVG,EAAO,uCAAG,8BAAAR,EAAA,sEACIhB,EAAOiB,OAAO,CAC9BC,UAAW,CACTlC,MAAOmB,EAAUsB,QAAQC,MACzBnC,OAAQc,EAAWoB,QAAQC,MAC3BlC,YAAac,EAAgBmB,QAAQC,OAEvCP,SAAUR,YAAF,OAPI,cACRgB,EADQ,gBAmBKA,EAAIb,KAAKU,QAnBd,OAmBRD,EAnBQ,OAoBdf,EAAS,GAAD,mBAAK9B,GAAL,CAAY6C,KApBN,2CAAH,qDAwBb,OACE,yBAAKK,UAAU,QACb,6BACE,2BAAOC,IAAK1B,EAAW2B,YAAY,UACnC,6BACA,2BAAOD,IAAKxB,EAAYyB,YAAY,WACpC,6BACA,2BAAOD,IAAKvB,EAAiBwB,YAAY,gBACzC,6BACA,4BAAQ5C,QAAS,kBAAMsC,MAAvB,QACA,6BACA,uBAAG3C,GAAG,gBAAN,mCACA,kBAACe,EAAD,CAAa8B,MAAO5B,GAClB,kBAACtB,EAAD,CAAOE,MAAOA,EAAO8B,SAAUA,EAAUrB,WAAYA,OC5EhD,SAAS4C,IAAW,IAC3BC,EAAYC,cAAZD,QACN,OAAO,mDAAyBA,GCDnB,SAASE,IAEtB,IAAMC,EAAQC,cAEd,OACE,6BACI,wCACA,4BACA,4BACE,kBAAC,IAAD,CAAMC,GAAE,UAAKF,EAAMG,IAAX,YAAR,2BAGF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAI,UAAKJ,EAAMI,KAAX,cACT,kBAACR,EAAD,OAEF,kBAAC,IAAD,CAAOQ,KAAMJ,EAAMI,MACjB,yDCjBZC,IAASC,OAAO,mBCCD,WAEb,OACE,yBAAKb,UAAU,OACb,kBAAC,IAAD,KACE,6BACE,6BACE,kBAAC,IAAD,CAAMS,GAAG,KAAT,QACA,kBAAC,IAAD,CAAMA,GAAG,SAAT,SAEF,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAOE,KAAK,SACV,kBAACL,EAAD,OAEA,kBAAC,IAAD,CAAOK,KAAK,KACV,kBAACrC,EAAD,aDhBE,MAASwC,SAASC,eAAe,W","file":"static/js/main.2114b656.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\n\r\nexport default function Books(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{props.books.map(books =>\r\n\t\t\t\t<div key={books.id}>\r\n\t\t\t\t\t<h3 style={{ display: \"inline\" }}>{books.title}</h3>\r\n\t\t\t\t\t<Button onClick={() => props.deleteBook(books.id)} style={{\r\n\t\t\t\t\t\tbackground: \"#000\",\r\n\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\tmarginLeft: 10\r\n\t\t\t\t\t}}>X</Button>\r\n\t\t\t\t\t<p>{books.author}</p>\r\n\t\t\t\t\t<i>{books.description}</i>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\r\n\r\nconst EnvContext = React.createContext();\r\n\r\nexport const EnvProvider = EnvContext.Provider;\r\n\r\nexport default EnvContext;","import React, { useEffect, useState } from 'react';\r\nimport ApolloClient, { gql } from 'apollo-boost';\r\nimport Books from '../../Components/Books';\r\nimport { EnvProvider } from '../../Contexts/EnvContext';\r\n\r\nconst uri = process.env.REACT_APP_URI;\r\nconst client = new ApolloClient({ uri });\r\n\r\nexport default function Home() {\r\n  const dataTitle = React.createRef();\r\n  const dataAuthor = React.createRef();\r\n  const dataDescription = React.createRef();\r\n  const [books, setBooks] = useState([])\r\n\r\n  useEffect(() => {\r\n    client.query({\r\n      query: gql`\r\n                {\r\n\t\t\t\t\t\t\t\t\tbooks {\r\n\t\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t\t\t\tauthor\r\n\t\t\t\t\t\t\t\t\t\tdescription\r\n\t\t\t\t\t\t\t\t\t}\r\n                }\r\n            `\r\n    }).then(result => { setBooks(result.data.books) })\r\n  }, []);\r\n\r\n  const deleteBook = async (_id) => {\r\n    const deletedBook = await client.mutate({\r\n      variables: { _id },\r\n      mutation: gql`\r\n        mutation deleteBook($_id: String){\r\n          deleteBook(_id: $_id) { id }\r\n        }\r\n    `,\r\n    })\r\n    const deletedId = await deletedBook.data.deleteBook.id;\r\n    setBooks(books.filter(book => book.id !== deletedId))\r\n  }\r\n\r\n  const addBook = async () => {\r\n    const res = await client.mutate({\r\n      variables: {\r\n        title: dataTitle.current.value,\r\n        author: dataAuthor.current.value,\r\n        description: dataDescription.current.value\r\n      },\r\n      mutation: gql`\r\n        mutation addBook($title: String, $author: String, $description: String){\r\n          addBook(title: $title, author: $author, description: $description) {\r\n            id\r\n            title\r\n            author\r\n            description\r\n          }\r\n        }\r\n    `,\r\n    })\r\n\r\n    const book = await res.data.addBook;\r\n    setBooks([...books, book]);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"Home\">\r\n      <div>\r\n        <input ref={dataTitle} placeholder=\"Title\" />\r\n        <br />\r\n        <input ref={dataAuthor} placeholder=\"Author\" />\r\n        <br />\r\n        <input ref={dataDescription} placeholder=\"Description\" />\r\n        <br />\r\n        <button onClick={() => addBook()}>Send</button>\r\n        <br />\r\n        <p id=\"req-response\">request's response goes here...</p>\r\n        <EnvProvider value={uri}>\r\n          <Books books={books} setBooks={setBooks} deleteBook={deleteBook} />\r\n        </EnvProvider>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function Single () {\r\n  let { topicId } = useParams();\r\n  return <h3>Requested topic ID: {topicId}</h3>;\r\n}","import React from 'react'\r\nimport { Switch, Route, useRouteMatch, Link } from \"react-router-dom\"\r\nimport Single from '../Single/Single';\r\n\r\nexport default function Post() {\r\n\r\n  const match = useRouteMatch();\r\n\r\n  return (\r\n    <div>\r\n        <h2>Post ...</h2>\r\n        <ul>\r\n        <li>\r\n          <Link to={`${match.url}/single`}>Single post (example)</Link>\r\n        </li>\r\n      </ul>\r\n        <Switch>\r\n          <Route path={`${match.path}/:topicId`}>\r\n            <Single />\r\n          </Route>\r\n          <Route path={match.path}>\r\n            <h3>Please select a topic.</h3>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n  )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Containers/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));","import React from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\"\r\nimport Home from '../Home/Home'\r\nimport Post from '../Post/Post'\r\n\r\nexport default function App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <div>\r\n          <nav>\r\n            <Link to=\"/\">Home</Link>\r\n            <Link to=\"/post\">Post</Link>\r\n          </nav>\r\n          <Switch>\r\n          <Route path=\"/post\">\r\n            <Post />\r\n          </Route>\r\n            <Route path=\"/\">\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  )\r\n}"],"sourceRoot":""}